name: Nodejs_Project_CI
on:
  push:
    branches: [ "nodejs-project" ]
  pull_request:
    branches: [ "nodejs-project" ]
jobs: 
  ImageBuild: 
    runs-on: Linux

    steps:
    - name: perform git code checkout
      uses: actions/checkout@v4
      
    - name: Installing Node.js
      uses: actions/setup-node@v1
      with:
        node-version: 20.2.0

    - name: update package using npm 
      run: npm ci 

    - name: build node code production 
      run:  npm run build 

    - name: stop containers 
      run:  startnode-app.sh
